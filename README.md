# ses-cloudwatch

Small CDK construct that routes Amazon SES sending events to a CloudWatch LogGroup through EventBridge. It creates:

* CloudWatch LogGroup (optionally named)
* SES Configuration Set (optionally named)
* EventBridge Rule (matches all `aws.ses` events)
* Configuration Set Event Destination that sends `SEND` events to the default EventBridge bus which the rule targets to the LogGroup

## Install

Add as a dependency to your CDK app (peer deps `aws-cdk-lib` and `constructs` must already be present at compatible versions):

```bash
npm install ses-cloudwatch
```

## Usage

```ts
import { Stack } from 'aws-cdk-lib';
import { SesCloudWatch } from 'ses-cloudwatch';

class MyStack extends Stack {
	constructor(scope: Construct, id: string) {
		super(scope, id);

		new SesCloudWatch(this, 'SesEvents');
	}
}
```

### With custom names

```ts
new SesCloudWatch(this, 'SesEvents', {
	logGroupName: 'my-ses-event-logs',
	configurationSetName: 'marketing-emails',
});
```

## Props

| Name | Type | Default | Description |
| ---- | ---- | ------- | ----------- |
| `logGroupName` | `string?` | auto-generated by CloudFormation | Explicit name for the CloudWatch LogGroup that stores SES events. |
| `configurationSetName` | `string?` | `<stackName>-ses-config-set` | Name for the SES Configuration Set whose events are logged. |

## Testing

Run the Jest tests (auto-generated by projen) which validate both default and custom prop behavior:

```bash
npm test
```

## License

Apache-2.0